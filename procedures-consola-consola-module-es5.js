(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["procedures-consola-consola-module"],{/***/"./node_modules/raw-loader/dist/cjs.js!./src/app/procedures/consola/components/consola.component.html":/*!************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/procedures/consola/components/consola.component.html ***!
  \************************************************************************************************************/ /*! exports provided: default */ /***/function node_modulesRawLoaderDistCjsJsSrcAppProceduresConsolaComponentsConsolaComponentHtml(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);/* harmony default export */__webpack_exports__["default"]="<div class=\"row\">\n  <div class=\"col-sm-12 col-md-8 col-lg-6 mx-auto\">\n\n    <div class=\"card mt-3\">\n      <div class=\"card-header text-center\">\n        <div *ngIf=\"!!registro\" class=\"\">\n          {{ desStatus }} [ {{ nivelStatus }} ]<br>\n          {{ registro.competencia }} <br>\n          {{ registro.club}}\n        </div>\n      </div>\n      \n      <div class=\"card-body\">\n\n        <div class=\"row mt-3\">\n          <div class=\"col-10\">\n            <button class=\"btn btn-block btn-lg\" \n              data-toggle=\"modal\" data-target=\"#modalCompetencia\" [disabled]=\"nivelStatus > 0\"\n              [ngClass]=\"nivelStatus >= 1 ? 'btn-primary' : 'btn-outline-primary'\">\n              Establecer pr\xF3xima competencia\n            </button>\n          </div>\n          <div class=\"col-2\">\n            <span class=\"text-primary\">\n              <i class=\"fa fa-3x\" [ngClass]=\"nivelStatus >= 1 ? 'fa-check-square-o': 'fa-square-o'\"></i>\n            </span>\n          </div>\n        </div>\n\n        <div class=\"row mt-3\">\n          <div class=\"col-10\">\n            <button class=\"btn btn-block btn-lg\" (click)=\"abrirInscirpciones()\"\n              [disabled]=\"nivelStatus === 2 || nivelStatus > 3\"\n              [ngClass]=\"nivelStatus >= 2 ? 'btn-primary' : 'btn-outline-primary'\">\n              Abrir inscripciones\n            </button>\n          </div>\n          <div class=\"col-2\">\n            <span class=\"text-primary\">\n              <i class=\"fa fa-3x\" [ngClass]=\"nivelStatus >= 2 ? 'fa-check-square-o': 'fa-square-o'\"></i>\n            </span>\n          </div>\n        </div>\n\n        <div class=\"row mt-3\">\n          <div class=\"col-10\">\n            <button class=\"btn btn-block btn-lg\" (click)=\"cerrarInscirpciones()\"\n            [ngClass]=\"nivelStatus >= 3 ? 'btn-primary' : 'btn-outline-primary'\">\n              Cerrar inscripciones\n            </button>\n          </div>\n          <div class=\"col-2\">\n            <span class=\"text-primary\">\n              <i class=\"fa fa-3x\" [ngClass]=\"nivelStatus >= 3 ? 'fa-check-square-o': 'fa-square-o'\"></i>\n            </span>\n          </div>\n        </div>\n\n        <div class=\"row mt-3\">\n          <div class=\"col-10\">\n            <button class=\"btn btn-block btn-lg\" \n            data-toggle=\"modal\" data-target=\"#modalDownload\"\n            [ngClass]=\"nivelStatus >= 4 ? 'btn-primary' : 'btn-outline-primary'\">\n              Exportar datos de las inscripciones\n            </button>\n          </div>\n          <div class=\"col-2\">\n            <span class=\"text-primary\">\n              <i class=\"fa fa-3x\" [ngClass]=\"nivelStatus >= 4 ? 'fa-check-square-o': 'fa-square-o'\"></i>\n            </span>\n          </div>\n        </div>\n\n        <div class=\"row mt-3\">\n          <div class=\"col-10\">\n            <button class=\"btn btn-block btn-lg\" (click)=\"abrirCompetencia()\"\n              [ngClass]=\"nivelStatus >= 5 ? 'btn-primary' : 'btn-outline-primary'\">\n              Abrir competencia\n            </button>\n          </div>\n          <div class=\"col-2\">\n            <span class=\"text-primary\">\n              <i class=\"fa fa-3x\" [ngClass]=\"nivelStatus >= 5 ? 'fa-check-square-o': 'fa-square-o'\"></i>\n            </span>\n          </div>\n        </div>\n\n        <div class=\"row mt-3\">\n          <div class=\"col-10\">\n            <button class=\"btn btn-block btn-lg\" (click)=\"importarDatos()\"\n              [ngClass]=\"nivelStatus >= 6 ? 'btn-primary' : 'btn-outline-primary'\">\n              Importar datos de la competencia\n            </button>\n          </div>\n          <div class=\"col-2\">\n            <span class=\"text-primary\">\n              <i class=\"fa fa-3x\" [ngClass]=\"nivelStatus >= 6 ? 'fa-check-square-o': 'fa-square-o'\"></i>\n            </span>\n          </div>\n        </div>\n\n        <div class=\"row mt-3\">\n          <div class=\"col-10\">\n            <button class=\"btn btn-block btn-lg\" (click)=\"cerrarCompetencia()\"\n              [ngClass]=\"nivelStatus >= 7 ? 'btn-primary' : 'btn-outline-primary'\">\n              Cerrar competencia\n            </button>\n          </div>\n          <div class=\"col-2\">\n            <span class=\"text-primary\">\n              <i class=\"fa fa-3x\" [ngClass]=\"nivelStatus >= 7 ? 'fa-check-square-o': 'fa-square-o'\"></i>\n            </span>\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n</div>\n\n\n<app-modal-competencia\n  [tabla]=\"tblCompetencias\"\n  (emitSeleccionar)=\"seleccionarCompetencia($event)\"\n></app-modal-competencia>\n\n<app-modal-download\n  [competencia] = 'registro'\n  (emitExportar)=\"exportarDatos()\"\n></app-modal-download>\n";/***/},/***/"./node_modules/raw-loader/dist/cjs.js!./src/app/procedures/consola/components/modal-competencia.component.html":/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/procedures/consola/components/modal-competencia.component.html ***!
  \**********************************************************************************************************************/ /*! exports provided: default */ /***/function node_modulesRawLoaderDistCjsJsSrcAppProceduresConsolaComponentsModalCompetenciaComponentHtml(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);/* harmony default export */__webpack_exports__["default"]="<!-- Modal -->\n<div id=\"modalCompetencia\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\n  aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-lg\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\"> Competencias </h5>\n        <button #btClose type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n\n        <table class=\"table table-bordered table-hover\">\n          <thead>\n            <tr>\n              <th> Desde </th>\n              <th> Hasta </th>\n              <th> Competencia </th>\n              <th> Club </th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr *ngFor=\"let registro of tabla\">\n              <td (click)=\"seleccionar(registro)\"> {{ registro.desde }} </td>\n              <td (click)=\"seleccionar(registro)\"> {{ registro.hasta }} </td>\n              <td (click)=\"seleccionar(registro)\"> {{ registro.competencia }} </td>\n              <td (click)=\"seleccionar(registro)\"> {{ registro.club }} </td>\n            </tr>\n          </tbody>\n\n        </table>\n\n        <button class=\"btn btn-secondary float-center\" (click)=\"cancelar()\">\n          Cancelar\n        </button>\n      </div>\n    </div>\n  </div>\n</div>";/***/},/***/"./node_modules/raw-loader/dist/cjs.js!./src/app/procedures/consola/components/modal-download.component.html":/*!*******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/procedures/consola/components/modal-download.component.html ***!
  \*******************************************************************************************************************/ /*! exports provided: default */ /***/function node_modulesRawLoaderDistCjsJsSrcAppProceduresConsolaComponentsModalDownloadComponentHtml(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);/* harmony default export */__webpack_exports__["default"]="<div id=\"modalDownload\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-md\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\"> Exportar datos </h5>\n        <button #btCloseDownload type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <h4> {{ mensaje }} </h4>\n          </div>\n          <div class=\"col-6\">\n            <button class=\"btn btn-lg btn-block btn-primary\" [disabled]=\"preparacionStatus > 0\"\n              (click)=\"generateDownloadJsonUri()\">\n              Procesar\n            </button>\n          </div>\n          <div class=\"col-6\">\n            <button class=\"btn btn-lg btn-block btn-primary\" [disabled]=\"preparacionStatus < 2\"\n              (click)=\"exportarDatos()\">\n              Exportar\n            </button>\n          </div>\n        </div>\n\n        <div class=\"row mt-3\">\n          <div class=\"col-6 mx-auto\">\n            <button class=\"btn btn-block btn-secondary\" (click)=\"cancelar()\">\n              Cancelar\n            </button>\n          </div>\n        </div>\n        \n        <a #aDownload class=\"btn btn-clear d-none\" title=\"Download JSON\" [href]=\"downloadJsonHref\" download=\"FeBoCaK.json\">\n          Link\n        </a> \n      </div>\n    </div>\n  </div>\n</div>\n";/***/},/***/"./src/app/procedures/consola/components/consola.component.ts":/*!********************************************************************!*\
  !*** ./src/app/procedures/consola/components/consola.component.ts ***!
  \********************************************************************/ /*! exports provided: ConsolaComponent */ /***/function srcAppProceduresConsolaComponentsConsolaComponentTs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);/* harmony export (binding) */__webpack_require__.d(__webpack_exports__,"ConsolaComponent",function(){return ConsolaComponent});/* harmony import */var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! tslib */"./node_modules/tslib/tslib.es6.js");/* harmony import */var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! @angular/core */"./node_modules/@angular/core/fesm2015/core.js");/* harmony import */var _angular_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! @angular/router */"./node_modules/@angular/router/fesm2015/router.js");/* harmony import */var _services_crud_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! @services/crud.service */"./src/app/services/crud.service.ts");/* harmony import */var _core_message_message_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! @core/message/message.service */"./src/app/core/message/message.service.ts");var ConsolaComponent=/*#__PURE__*/function(){function ConsolaComponent(crudService,msg,router){this.crudService=crudService;this.msg=msg;this.router=router;this.nivelStatus=0;this.desStatus=""}var _proto=ConsolaComponent.prototype;_proto.ngOnInit=function ngOnInit(){var _this=this;this.getRecords();this.crudService.getAllRecords$("competencias").subscribe(function(data){return _this.tblCompetencias=data})};_proto.getRecords=function getRecords(){var _this2=this;this.crudService.getRecord$("consola","01").subscribe(function(data){_this2.registro=data;_this2.setState()})};_proto.setState=function setState(){switch(this.registro.status){case"Establecer pr\xF3xima competencia":this.nivelStatus=1;this.desStatus="Pr\xF3xima competencia";break;case"Abrir inscripciones":this.nivelStatus=2;this.desStatus="Inscripciones abiertas";break;case"Cerrar inscripciones":this.nivelStatus=3;this.desStatus="Inscripciones cerradas";break;case"Exportar datos":this.nivelStatus=4;this.desStatus="Inscripciones cerradas - Datos exportados";break;case"Abrir competencia":this.nivelStatus=5;this.desStatus="En competencia";break;case"Importar datos":this.nivelStatus=6;this.desStatus="Resultados de la competencia cargados";break;case"Cerrar competencia":this.nivelStatus=0;this.desStatus="Competencia guardada en el hist\xF3rico";break;default:break;}};_proto.seleccionarCompetencia=function seleccionarCompetencia(registro){if(registro){this.establecerProximaCompetencia(registro)}};_proto.establecerProximaCompetencia=function establecerProximaCompetencia(registro){var _this3=this;if(this.nivelStatus!==0){this.msg.ok("Este proceso ya se realiz\xF3");return}this.registro=registro;this.registro.status="Establecer pr\xF3xima competencia";this.registro.id="01";this.crudService.updateRecord$("consola","01",this.registro).subscribe(function(_){_this3.msg.ok("Competencia establecida satisfactoriamente");_this3.nivelStatus=1},function(error){return _this3.msg.error("Error al actualizar los datos: "+error.statusText)},function(){return console.log("this.router.navigate(['home'])")})};_proto.abrirInscirpciones=function abrirInscirpciones(){var _this4=this;if(this.nivelStatus>4){this.msg.ok("No puede reabrir las inscripciones despu\xE9s de haber importado los datos de la competencia");return}if(this.nivelStatus<1){this.msg.ok("Primero debe establecer la competencia");return}this.registro.status="Abrir inscripciones";this.crudService.updateRecord$("consola","01",this.registro).subscribe(function(_){_this4.msg.ok("Inscripciones abiertas satisfactoriamente");_this4.nivelStatus=2},function(error){return _this4.msg.error("Error al actualizar los datos: "+error.statusText)},function(){return console.log("this.router.navigate(['home'])")})};_proto.cerrarInscirpciones=function cerrarInscirpciones(){var _this5=this;if(this.nivelStatus>2){this.msg.ok("Este proceso ya se realiz\xF3");return}if(this.nivelStatus<2){this.msg.ok("Primero debe abrir inscripciones");return}this.registro.status="Cerrar inscripciones";this.crudService.updateRecord$("consola","01",this.registro).subscribe(function(_){_this5.msg.ok("Inscripciones cerradas satisfactoriamente");_this5.nivelStatus=3},function(error){return _this5.msg.error("Error al actualizar los datos: "+error.statusText)},function(){return console.log("this.router.navigate(['home'])")})};_proto.exportarDatos=function exportarDatos(){/* if (this.nivelStatus > 3) {
          this.msg.ok('Este proceso ya se realizó');
          return
        } */if(this.nivelStatus<3){this.msg.ok("Primero debe cerrar inscripciones");return}this.registro.status="Exportar datos";this.nivelStatus=4;this.guardarStatus("Datos exportados satisfactoriamente")};_proto.abrirCompetencia=function abrirCompetencia(){if(this.nivelStatus>4){this.msg.ok("Este proceso ya se realiz\xF3");return}if(this.nivelStatus<4){this.msg.ok("Primero debe exportar los datos");return}this.registro.status="Abrir competencia";this.nivelStatus=5;this.guardarStatus("Competencia abierta satisfactoriamente")};_proto.importarDatos=function importarDatos(){if(this.nivelStatus>5){this.msg.ok("Este proceso ya se realiz\xF3");return}if(this.nivelStatus<5){this.msg.ok("Primero debe abrir la competencia");return}this.registro.status="Importar datos";this.nivelStatus++;this.guardarStatus("Datos importados satisfactoriamente")};_proto.cerrarCompetencia=function cerrarCompetencia(){if(this.nivelStatus>6){this.msg.ok("Este proceso ya se realiz\xF3");return}if(this.nivelStatus<6){this.msg.ok("Primero debe importar los datos");return}this.registro.status="Cerrar competencia";this.nivelStatus++;this.guardarStatus("Competencia cerrada satisfactoriamente")};_proto.guardarStatus=function guardarStatus(mensaje){var _this6=this;this.crudService.updateRecord$("consola",this.registro.id,this.registro).subscribe(function(_){return _this6.msg.ok(mensaje)},function(error){return _this6.msg.error("Error al actualizar los datos: "+error.statusText)},function(){return console.log("this.router.navigate(['home'])")})};return ConsolaComponent}();ConsolaComponent.ctorParameters=function(){return[{type:_services_crud_service__WEBPACK_IMPORTED_MODULE_3__["CrudService"]},{type:_core_message_message_service__WEBPACK_IMPORTED_MODULE_4__["MessageService"]},{type:_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]}]};ConsolaComponent=tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({selector:"app-consola",template:tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./consola.component.html */"./node_modules/raw-loader/dist/cjs.js!./src/app/procedures/consola/components/consola.component.html")).default})],ConsolaComponent);/***/},/***/"./src/app/procedures/consola/components/modal-competencia.component.ts":/*!******************************************************************************!*\
  !*** ./src/app/procedures/consola/components/modal-competencia.component.ts ***!
  \******************************************************************************/ /*! exports provided: ModalCompetenciaComponent */ /***/function srcAppProceduresConsolaComponentsModalCompetenciaComponentTs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);/* harmony export (binding) */__webpack_require__.d(__webpack_exports__,"ModalCompetenciaComponent",function(){return ModalCompetenciaComponent});/* harmony import */var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! tslib */"./node_modules/tslib/tslib.es6.js");/* harmony import */var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! @angular/core */"./node_modules/@angular/core/fesm2015/core.js");/* harmony import */var _services_crud_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! @services/crud.service */"./src/app/services/crud.service.ts");var ModalCompetenciaComponent=/*#__PURE__*/function(){function ModalCompetenciaComponent(crudService){this.crudService=crudService;this.emitSeleccionar=new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]}var _proto2=ModalCompetenciaComponent.prototype;_proto2.ngOnInit=function ngOnInit(){};_proto2.seleccionar=function seleccionar(registro){return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this,void 0,void 0,/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var tipoDeCompetencia;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log("TCL: ModalCompetenciaComponent -> seleccionar -> registro antes",registro);_context.next=3;return this.crudService.getRecordByField$("tipos-de-competencias","tipo",registro.tipoDeCompetencia).toPromise();case 3:tipoDeCompetencia=_context.sent;registro=Object.assign({},registro,{distancia:tipoDeCompetencia.distancia});console.log("TCL: ModalCompetenciaComponent -> seleccionar -> registro despues",registro);_context.next=8;return this.crudService.updateRecord$("competencias",registro.id,registro).toPromise();case 8:this.emitSeleccionar.emit(registro);this.btClose.nativeElement.click();case 10:case"end":return _context.stop();}}},_callee,this)}))};_proto2.cancelar=function cancelar(){this.btClose.nativeElement.click()};return ModalCompetenciaComponent}();ModalCompetenciaComponent.ctorParameters=function(){return[{type:_services_crud_service__WEBPACK_IMPORTED_MODULE_2__["CrudService"]}]};tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])("btClose",{static:false})],ModalCompetenciaComponent.prototype,"btClose",void 0);tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()],ModalCompetenciaComponent.prototype,"tabla",void 0);tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()],ModalCompetenciaComponent.prototype,"emitSeleccionar",void 0);ModalCompetenciaComponent=tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({selector:"app-modal-competencia",template:tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./modal-competencia.component.html */"./node_modules/raw-loader/dist/cjs.js!./src/app/procedures/consola/components/modal-competencia.component.html")).default})],ModalCompetenciaComponent);/***/},/***/"./src/app/procedures/consola/components/modal-download.component.ts":/*!***************************************************************************!*\
  !*** ./src/app/procedures/consola/components/modal-download.component.ts ***!
  \***************************************************************************/ /*! exports provided: ModalDownloadComponent */ /***/function srcAppProceduresConsolaComponentsModalDownloadComponentTs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);/* harmony export (binding) */__webpack_require__.d(__webpack_exports__,"ModalDownloadComponent",function(){return ModalDownloadComponent});/* harmony import */var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! tslib */"./node_modules/tslib/tslib.es6.js");/* harmony import */var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! rxjs/operators */"./node_modules/rxjs/_esm2015/operators/index.js");/* harmony import */var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! @angular/core */"./node_modules/@angular/core/fesm2015/core.js");/* harmony import */var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! @angular/platform-browser */"./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");/* harmony import */var _exportar_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./../exportar.service */"./src/app/procedures/consola/exportar.service.ts");/* harmony import */var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! rxjs */"./node_modules/rxjs/_esm2015/index.js");var ModalDownloadComponent=/*#__PURE__*/function(){function ModalDownloadComponent(sanitizer,exportarService){this.sanitizer=sanitizer;this.exportarService=exportarService;this.emitExportar=new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"];this.preparacionStatus=0;this.mensaje="El proceso de exportar los datos puede tardar varios minutos. Para iniciar pulse en el bot\xF3n preparar datos. Una vez finalizado el proceso pulse en el bot\xF3n exportar"}var _proto3=ModalDownloadComponent.prototype;_proto3.ngOnInit=function ngOnInit(){};_proto3.cancelar=function cancelar(){this.btClose.nativeElement.click()};_proto3.exportarDatos=function exportarDatos(){this.aDownload.nativeElement.click();this.emitExportar.emit("Exportar");this.btClose.nativeElement.click()};_proto3.generateDownloadJsonUri=function generateDownloadJsonUri(){var _this7=this;this.mensaje="P r e p a r a n d o . . .";this.preparacionStatus=1;var jsonData="{";var contador=0;var nombres=[];var categorias$=this.exportarService.getCategorias$();nombres.push("categorias");var clubes$=this.exportarService.getClubes$();nombres.push("clubes");var competencias$=this.exportarService.getCompetencias$().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function(data){return data.filter(function(elemento){return elemento.club===_this7.competencia.club&&elemento.competencia===_this7.competencia.competencia&&elemento.desde===_this7.competencia.desde&&elemento.hasta===_this7.competencia.hasta})}));nombres.push("competencias");var consola$=this.exportarService.getConsola$();var inscripciones$=this.exportarService.getInscripciones$();nombres.push("inscripciones");var palistas$=this.exportarService.getPalistas$();nombres.push("palistas");var users$=this.exportarService.getUsers$().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(function(data){return data.filter(function(usuario){return usuario.rol==="Competencias"})}));nombres.push("users");var result$=Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["merge"])(categorias$,clubes$,competencias$,consola$,inscripciones$,palistas$,users$);result$.subscribe(function(data){jsonData=jsonData+"\""+nombres[contador]+"\":"+JSON.stringify(data);contador++;if(contador==nombres.length){jsonData=jsonData+"}";_this7.downloadJsonHref=_this7.sanitizer.bypassSecurityTrustUrl("data:text/json;charset=UTF-8,"+encodeURIComponent(jsonData));_this7.mensaje="Preparaci\xF3n finalizada";_this7.preparacionStatus=2}else{jsonData=jsonData+","}})};return ModalDownloadComponent}();ModalDownloadComponent.ctorParameters=function(){return[{type:_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["DomSanitizer"]},{type:_exportar_service__WEBPACK_IMPORTED_MODULE_4__["ExportarService"]}]};tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"])()],ModalDownloadComponent.prototype,"competencia",void 0);tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ViewChild"])("btCloseDownload",{static:true})],ModalDownloadComponent.prototype,"btClose",void 0);tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ViewChild"])("aDownload",{static:true})],ModalDownloadComponent.prototype,"aDownload",void 0);tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"])()],ModalDownloadComponent.prototype,"emitExportar",void 0);ModalDownloadComponent=tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"])({selector:"app-modal-download",template:tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./modal-download.component.html */"./node_modules/raw-loader/dist/cjs.js!./src/app/procedures/consola/components/modal-download.component.html")).default})],ModalDownloadComponent);/***/},/***/"./src/app/procedures/consola/consola-routing.module.ts":/*!**************************************************************!*\
  !*** ./src/app/procedures/consola/consola-routing.module.ts ***!
  \**************************************************************/ /*! exports provided: ConsolaRoutingModule */ /***/function srcAppProceduresConsolaConsolaRoutingModuleTs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);/* harmony export (binding) */__webpack_require__.d(__webpack_exports__,"ConsolaRoutingModule",function(){return ConsolaRoutingModule});/* harmony import */var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! tslib */"./node_modules/tslib/tslib.es6.js");/* harmony import */var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! @angular/core */"./node_modules/@angular/core/fesm2015/core.js");/* harmony import */var _angular_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! @angular/router */"./node_modules/@angular/router/fesm2015/router.js");/* harmony import */var _components_consola_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ./components/consola.component */"./src/app/procedures/consola/components/consola.component.ts");var routes=[{path:"",component:_components_consola_component__WEBPACK_IMPORTED_MODULE_3__["ConsolaComponent"]}];var ConsolaRoutingModule=function ConsolaRoutingModule(){};ConsolaRoutingModule=tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({imports:[_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)],exports:[_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]})],ConsolaRoutingModule);/***/},/***/"./src/app/procedures/consola/consola.module.ts":/*!******************************************************!*\
  !*** ./src/app/procedures/consola/consola.module.ts ***!
  \******************************************************/ /*! exports provided: ConsolaModule */ /***/function srcAppProceduresConsolaConsolaModuleTs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);/* harmony export (binding) */__webpack_require__.d(__webpack_exports__,"ConsolaModule",function(){return ConsolaModule});/* harmony import */var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! tslib */"./node_modules/tslib/tslib.es6.js");/* harmony import */var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! @angular/core */"./node_modules/@angular/core/fesm2015/core.js");/* harmony import */var _angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! @angular/common */"./node_modules/@angular/common/fesm2015/common.js");/* harmony import */var _consola_routing_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! ./consola-routing.module */"./src/app/procedures/consola/consola-routing.module.ts");/* harmony import */var _components_consola_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(/*! ./components/consola.component */"./src/app/procedures/consola/components/consola.component.ts");/* harmony import */var _components_modal_competencia_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(/*! ./components/modal-competencia.component */"./src/app/procedures/consola/components/modal-competencia.component.ts");/* harmony import */var _components_modal_download_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(/*! ./components/modal-download.component */"./src/app/procedures/consola/components/modal-download.component.ts");var ConsolaModule=function ConsolaModule(){};ConsolaModule=tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({declarations:[_components_consola_component__WEBPACK_IMPORTED_MODULE_4__["ConsolaComponent"],_components_modal_competencia_component__WEBPACK_IMPORTED_MODULE_5__["ModalCompetenciaComponent"],_components_modal_download_component__WEBPACK_IMPORTED_MODULE_6__["ModalDownloadComponent"]],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],_consola_routing_module__WEBPACK_IMPORTED_MODULE_3__["ConsolaRoutingModule"]]})],ConsolaModule);/***/},/***/"./src/app/procedures/consola/exportar.service.ts":/*!********************************************************!*\
  !*** ./src/app/procedures/consola/exportar.service.ts ***!
  \********************************************************/ /*! exports provided: ExportarService */ /***/function srcAppProceduresConsolaExportarServiceTs(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);/* harmony export (binding) */__webpack_require__.d(__webpack_exports__,"ExportarService",function(){return ExportarService});/* harmony import */var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(/*! tslib */"./node_modules/tslib/tslib.es6.js");/* harmony import */var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(/*! @angular/core */"./node_modules/@angular/core/fesm2015/core.js");/* harmony import */var _angular_fire_firestore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(/*! @angular/fire/firestore */"./node_modules/@angular/fire/firestore/es2015/index.js");/* harmony import */var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(/*! rxjs/operators */"./node_modules/rxjs/_esm2015/operators/index.js");var ExportarService=/*#__PURE__*/function(){function ExportarService(afs){this.afs=afs}var _proto4=ExportarService.prototype;_proto4.getCategorias$=function getCategorias$(){var collection=this.afs.collection("categorias",function(ref){return ref.orderBy("desde")});return collection.snapshotChanges().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function(changes){return changes.map(function(action){var data=action.payload.doc.data();data.id=action.payload.doc.id;return data})}))};_proto4.getClubes$=function getClubes$(){var collection=this.afs.collection("clubes");return collection.snapshotChanges().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function(changes){return changes.map(function(action){var data=action.payload.doc.data();data.id=action.payload.doc.id;return data})}))};_proto4.getCompetencias$=function getCompetencias$(){var collection=this.afs.collection("competencias");return collection.snapshotChanges().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function(changes){return changes.map(function(action){var data=action.payload.doc.data();data.id=action.payload.doc.id;return data})}))};_proto4.getConsola$=function getConsola$(){var collection=this.afs.collection("consola");return collection.snapshotChanges().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function(changes){return changes.map(function(action){var data=action.payload.doc.data();data.id=action.payload.doc.id;return data})}))};_proto4.getInscripciones$=function getInscripciones$(){var collection=this.afs.collection("inscripciones");return collection.snapshotChanges().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function(changes){return changes.map(function(action){var data=action.payload.doc.data();data.id=action.payload.doc.id;return data})}))};_proto4.getPalistas$=function getPalistas$(){var collection=this.afs.collection("palistas");return collection.snapshotChanges().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function(changes){return changes.map(function(action){var data=action.payload.doc.data();data.id=action.payload.doc.id;return data})}))};_proto4.getUsers$=function getUsers$(){var collection=this.afs.collection("users");return collection.snapshotChanges().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(function(changes){return changes.map(function(action){var data=action.payload.doc.data();data.id=action.payload.doc.id;return data})}))};return ExportarService}();ExportarService.ctorParameters=function(){return[{type:_angular_fire_firestore__WEBPACK_IMPORTED_MODULE_2__["AngularFirestore"]}]};ExportarService=tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({providedIn:"root"})],ExportarService);/***/}}]);//# sourceMappingURL=procedures-consola-consola-module-es2015.js.map
//# sourceMappingURL=procedures-consola-consola-module-es5.js.map