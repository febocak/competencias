{"version":3,"sources":["src/app/competencias/importar-inscripciones/importar-inscripciones.component.html","src/app/competencias/importar-inscripciones/importar-inscripciones.component.css","src/app/competencias/importar-inscripciones/importar-inscripciones.component.ts","src/app/competencias/importar-inscripciones/importar-inscripciones.module.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-sm-12 col-md-8 col-lg-6 mx-auto\\\">\\n    <div class=\\\"card mt-3\\\">\\n      <div class=\\\"card-header\\\">\\n        Importar inscripciones\\n      </div>\\n\\n      <div class=\\\"card-body\\\">\\n        <div class=\\\"row\\\" >\\n          <div class=\\\"col-9\\\">\\n\\n            <h5>Datos del archivo</h5>\\n            <table  class=\\\"table\\\">\\n              <tr>\\n                <th>Nombre: </th>\\n                <td colspan=\\\"3\\\" *ngIf=\\\"!!file\\\"> {{ file.name }} </td>\\n              </tr>\\n              <tr>\\n                <th>Fecha: </th>\\n                <td *ngIf=\\\"!!file\\\"> {{ fecha }} </td>\\n                <th>Hora: </th>\\n                <td *ngIf=\\\"!!file\\\"> {{ hora }} </td>\\n              </tr>\\n              \\n              <tr>\\n                <th>tipo: </th>\\n                <td *ngIf=\\\"!!file\\\"> {{ file.type }} </td>\\n                <th>tama√±o: </th>\\n                <td *ngIf=\\\"!!file\\\"> {{ file.size }} </td>\\n              </tr>\\n            </table>\\n            <div *ngIf=\\\"!!competencia\\\" class=\\\"\\\">\\n              <p class=\\\"text-center\\\"><small>\\n                {{ competencia.club }} <br>\\n                {{ competencia.competencia}} <br>\\n                desde {{ competencia.desde }} hasta {{ competencia.hasta }} <br>\\n              </small></p>\\n            </div>\\n          </div>\\n\\n          <div class=\\\"col-3\\\">\\n            <h5>Tablas</h5>\\n            <table class=\\\"table\\\">\\n              <ng-container *ngIf=\\\"!!tablas\\\"> \\n                <tr *ngFor=\\\"let tabla of tablas\\\">\\n                  <td class=\\\"p-1\\\"> {{ tabla }} </td>\\n                </tr>\\n              </ng-container>\\n            </table>\\n          </div>\\n        </div >\\n\\n        <label class=\\\"btn btn-primary btn-block btn-file\\\">\\n            <i class=\\\"fa fa-folder\\\"> </i> Seleccione el archivo \\n          <input #fileUrl type=\\\"file\\\" style=\\\"display: none;\\\" accept=\\\".json\\\" (change)=\\\"onChange($event)\\\">\\n        </label>\\n\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-6\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-lg btn-primary btn-block\\\" [disabled]=\\\"!fileUrl.value\\\"\\n              (click)=\\\"onUpload()\\\">\\n              <i class=\\\"fa fa-upload\\\"></i> Importar datos\\n            </button>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-lg btn-secondary btn-block\\\" (click)=\\\"goBack()\\\">\\n              Cancelar\\n            </button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \".btn-file {\\r\\n  position: relative;\\r\\n  overflow: hidden;\\r\\n}\\r\\n.btn-file input[type=file] {\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  right: 0;\\r\\n  min-width: 100%;\\r\\n  min-height: 100%;\\r\\n  font-size: 100px;\\r\\n  text-align: right;\\r\\n  filter: alpha(opacity=0);\\r\\n  opacity: 0;\\r\\n  outline: none;\\r\\n  background: white;\\r\\n  cursor: inherit;\\r\\n  display: block;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcGV0ZW5jaWFzL2ltcG9ydGFyLWluc2NyaXBjaW9uZXMvaW1wb3J0YXItaW5zY3JpcGNpb25lcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixRQUFRO0VBQ1IsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCLHdCQUF3QjtFQUN4QixVQUFVO0VBQ1YsYUFBYTtFQUNiLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2YsY0FBYztBQUNoQiIsImZpbGUiOiJzcmMvYXBwL2NvbXBldGVuY2lhcy9pbXBvcnRhci1pbnNjcmlwY2lvbmVzL2ltcG9ydGFyLWluc2NyaXBjaW9uZXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idG4tZmlsZSB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuLmJ0bi1maWxlIGlucHV0W3R5cGU9ZmlsZV0ge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgbWluLXdpZHRoOiAxMDAlO1xyXG4gIG1pbi1oZWlnaHQ6IDEwMCU7XHJcbiAgZm9udC1zaXplOiAxMDBweDtcclxuICB0ZXh0LWFsaWduOiByaWdodDtcclxuICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MCk7XHJcbiAgb3BhY2l0eTogMDtcclxuICBvdXRsaW5lOiBub25lO1xyXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gIGN1cnNvcjogaW5oZXJpdDtcclxuICBkaXNwbGF5OiBibG9jaztcclxufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { MessageService } from '@core/message/message.service';\nimport { Router } from '@angular/router';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-importar-inscripciones',\n  templateUrl: './importar-inscripciones.component.html',\n  styleUrls: ['./importar-inscripciones.component.css']\n})\nexport class ImportarInscripcionesComponent implements OnInit {\n  file;\n  fecha: string;\n  hora: string;\n  tablas: string[];\n  datos: Object;\n  competencia;\n\n  constructor(private router: Router, \n              private location: Location,\n              private msg: MessageService) {\n  }\n\n  ngOnInit() {\n  }\n\n  onChange(e) {\n    this.file = e.target.files[0];\n    let fecha = new Date(this.file.lastModified);\n    this.fecha = fecha.toLocaleDateString();\n    this.hora = fecha.toLocaleTimeString();\n\n    let reader  = new FileReader();\n    reader.onloadend =  () => {\n      this.datos = JSON.parse(reader.result as string);\n      this.tablas = Object.keys(this.datos)\n      this.competencia = this.datos['competencias'][0]; \n    }\n    reader.readAsText(this.file);\n  }\n\n  onUpload() {\n    localStorage.clear();\n    const tablas = ['categorias', 'clubes', 'distancias', 'competencias', 'consola', 'inscripciones', 'palistas', 'users'];\n    tablas.forEach( tabla => {\n      localStorage.setItem(tabla, JSON.stringify(this.datos[tabla]));\n    });\n    this.router.navigate(['home']);\n    this.msg.ok('Inscripciones importadas satisfactoriamente');\n  }\n\n  goBack() {\n    this.location.back();\n  }\n \n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ImportarInscripcionesComponent } from './importar-inscripciones.component';\n\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  { path: '', component: ImportarInscripcionesComponent}\n];\n\n@NgModule({\n  declarations: [ImportarInscripcionesComponent],\n  imports: [\n    CommonModule, RouterModule.forChild(routes)\n  ]\n})\nexport class ImportarInscripcionesModule { }\n"],"sourceRoot":"webpack:///"}