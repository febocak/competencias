{"version":3,"sources":["./src/app/procedures/consola/components/consola.component.html","./src/app/procedures/consola/components/modal-competencia.component.html","./src/app/procedures/consola/components/modal-download.component.html","./src/app/procedures/consola/components/consola.component.ts","./src/app/procedures/consola/components/modal-competencia.component.ts","./src/app/procedures/consola/components/modal-download.component.ts","./src/app/procedures/consola/consola-routing.module.ts","./src/app/procedures/consola/consola.module.ts","./src/app/procedures/consola/exportar.service.ts"],"names":[],"mappings":"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","file":"procedures-consola-consola-module-es2015.js","sourcesContent":["export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-sm-12 col-md-8 col-lg-6 mx-auto\\\">\\n\\n    <div class=\\\"card mt-3\\\">\\n      <div class=\\\"card-header text-center\\\">\\n        <div *ngIf=\\\"!!registro\\\" class=\\\"\\\">\\n          {{ desStatus }} [ {{ nivelStatus }} ]<br>\\n          {{ registro.competencia }} <br>\\n          {{ registro.club}}\\n        </div>\\n      </div>\\n      \\n      <div class=\\\"card-body\\\">\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" \\n              data-toggle=\\\"modal\\\" data-target=\\\"#modalCompetencia\\\" [disabled]=\\\"nivelStatus > 0\\\"\\n              [ngClass]=\\\"nivelStatus >= 1 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Establecer próxima competencia\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 1 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" (click)=\\\"abrirInscirpciones()\\\"\\n              [disabled]=\\\"nivelStatus === 2 || nivelStatus > 3\\\"\\n              [ngClass]=\\\"nivelStatus >= 2 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Abrir inscripciones\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 2 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" (click)=\\\"cerrarInscirpciones()\\\"\\n            [ngClass]=\\\"nivelStatus >= 3 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Cerrar inscripciones\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 3 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" \\n            data-toggle=\\\"modal\\\" data-target=\\\"#modalDownload\\\"\\n            [ngClass]=\\\"nivelStatus >= 4 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Exportar datos de las inscripciones\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 4 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" (click)=\\\"abrirCompetencia()\\\"\\n              [ngClass]=\\\"nivelStatus >= 5 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Abrir competencia\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 5 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" (click)=\\\"importarDatos()\\\"\\n              [ngClass]=\\\"nivelStatus >= 6 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Importar datos de la competencia\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 6 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" (click)=\\\"cerrarCompetencia()\\\"\\n              [ngClass]=\\\"nivelStatus >= 7 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Cerrar competencia\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 7 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n      </div>\\n\\n    </div>\\n\\n  </div>\\n</div>\\n\\n\\n<app-modal-competencia\\n  [tabla]=\\\"tblCompetencias\\\"\\n  (emitSeleccionar)=\\\"seleccionarCompetencia($event)\\\"\\n></app-modal-competencia>\\n\\n<app-modal-download\\n  [competencia] = 'registro'\\n  (emitExportar)=\\\"exportarDatos()\\\"\\n></app-modal-download>\\n\"","export default \"<!-- Modal -->\\n<div id=\\\"modalCompetencia\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalLabel\\\"\\n  aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-lg\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLabel\\\"> Competencias </h5>\\n        <button #btClose type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n\\n        <table class=\\\"table table-bordered table-hover\\\">\\n          <thead>\\n            <tr>\\n              <th> Desde </th>\\n              <th> Hasta </th>\\n              <th> Competencia </th>\\n              <th> Club </th>\\n            </tr>\\n          </thead>\\n\\n          <tbody>\\n            <tr *ngFor=\\\"let registro of tabla\\\">\\n              <td (click)=\\\"seleccionar(registro)\\\"> {{ registro.desde }} </td>\\n              <td (click)=\\\"seleccionar(registro)\\\"> {{ registro.hasta }} </td>\\n              <td (click)=\\\"seleccionar(registro)\\\"> {{ registro.competencia }} </td>\\n              <td (click)=\\\"seleccionar(registro)\\\"> {{ registro.club }} </td>\\n            </tr>\\n          </tbody>\\n\\n        </table>\\n\\n        <button class=\\\"btn btn-secondary float-center\\\" (click)=\\\"cancelar()\\\">\\n          Cancelar\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","export default \"<div id=\\\"modalDownload\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalLabel\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-md\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLabel\\\"> Exportar datos </h5>\\n        <button #btCloseDownload type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-12\\\">\\n            <h4> {{ mensaje }} </h4>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            <button class=\\\"btn btn-lg btn-block btn-primary\\\" [disabled]=\\\"preparacionStatus > 0\\\"\\n              (click)=\\\"generateDownloadJsonUri()\\\">\\n              Procesar\\n            </button>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            <button class=\\\"btn btn-lg btn-block btn-primary\\\" [disabled]=\\\"preparacionStatus < 2\\\"\\n              (click)=\\\"exportarDatos()\\\">\\n              Exportar\\n            </button>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-6 mx-auto\\\">\\n            <button class=\\\"btn btn-block btn-secondary\\\" (click)=\\\"cancelar()\\\">\\n              Cancelar\\n            </button>\\n          </div>\\n        </div>\\n        \\n        <a #aDownload class=\\\"btn btn-clear d-none\\\" title=\\\"Download JSON\\\" [href]=\\\"downloadJsonHref\\\" download=\\\"FeBoCaK.json\\\">\\n          Link\\n        </a> \\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CompetenciaI } from 'src/app/models/competencia';\r\nimport { CrudService } from '@services/crud.service';\r\nimport { MessageService } from '@core/message/message.service';\r\n\r\n@Component({\r\n  selector: 'app-consola',\r\n  templateUrl: './consola.component.html',\r\n  styles: []\r\n})\r\nexport class ConsolaComponent implements OnInit {\r\n\r\n  tblCompetencias: CompetenciaI[];\r\n  registro: CompetenciaI;\r\n  nivelStatus = 0;\r\n  desStatus = '';\r\n\r\n  constructor(private crudService: CrudService, \r\n              private msg: MessageService,\r\n              private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.getRecords();\r\n    this.crudService.getAllRecords$('competencias').subscribe(\r\n      data => this.tblCompetencias = data\r\n    );\r\n  }\r\n\r\n  getRecords() {\r\n    this.crudService.getRecord$('consola','01').subscribe(\r\n      data => {\r\n        this.registro = data;\r\n        this.setState();\r\n      }\r\n    );\r\n  }\r\n\r\n  setState() {\r\n    \r\n    switch (this.registro.status) {\r\n      case 'Establecer próxima competencia':\r\n        this.nivelStatus = 1;\r\n        this.desStatus = 'Próxima competencia';\r\n        break;\r\n      case 'Abrir inscripciones':\r\n        this.nivelStatus = 2;\r\n        this.desStatus = 'Inscripciones abiertas';\r\n        break;\r\n      case 'Cerrar inscripciones':\r\n        this.nivelStatus = 3;\r\n        this.desStatus = 'Inscripciones cerradas';\r\n        break;\r\n      case 'Exportar datos':\r\n        this.nivelStatus = 4;\r\n        this.desStatus = 'Inscripciones cerradas - Datos exportados';\r\n        break;\r\n      case 'Abrir competencia':\r\n        this.nivelStatus = 5;\r\n        this.desStatus = 'En competencia';\r\n        break;\r\n      case 'Importar datos':\r\n        this.nivelStatus = 6;\r\n        this.desStatus = 'Resultados de la competencia cargados';\r\n        break;\r\n      case 'Cerrar competencia':\r\n        this.nivelStatus = 0;\r\n        this.desStatus = 'Competencia guardada en el histórico';\r\n        break;\r\n   \r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  seleccionarCompetencia(registro: CompetenciaI){\r\n    if (registro) {\r\n      this.establecerProximaCompetencia(registro);\r\n    }\r\n  }\r\n\r\n  establecerProximaCompetencia(registro: CompetenciaI) {\r\n    if (this.nivelStatus !== 0) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    }\r\n    this.registro = registro;\r\n    this.registro.status = 'Establecer próxima competencia';\r\n    this.registro.id = '01';\r\n\r\n    this.crudService.updateRecord$('consola','01', this.registro).subscribe(\r\n      _ => {\r\n        this.msg.ok('Competencia establecida satisfactoriamente');\r\n        this.nivelStatus = 1;\r\n      },\r\n      error => this.msg.error('Error al actualizar los datos: ' + error.statusText),\r\n      () => console.log(\"this.router.navigate(['home'])\")\r\n    );\r\n  }\r\n\r\n  abrirInscirpciones() {\r\n    if (this.nivelStatus > 4) {\r\n      this.msg.ok('No puede reabrir las inscripciones después de haber importado los datos de la competencia');\r\n      return \r\n    }\r\n    if (this.nivelStatus < 1) {\r\n      this.msg.ok('Primero debe establecer la competencia');\r\n      return \r\n    }\r\n    this.registro.status = 'Abrir inscripciones';\r\n    \r\n    this.crudService.updateRecord$('consola','01', this.registro).subscribe(\r\n      _ => {\r\n        this.msg.ok('Inscripciones abiertas satisfactoriamente');\r\n        this.nivelStatus = 2;\r\n      },\r\n      error => this.msg.error('Error al actualizar los datos: ' + error.statusText),\r\n      () => console.log(\"this.router.navigate(['home'])\")\r\n    );\r\n  }\r\n\r\n  cerrarInscirpciones() {\r\n    if (this.nivelStatus > 2) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    }\r\n    if (this.nivelStatus < 2) {\r\n      this.msg.ok('Primero debe abrir inscripciones');\r\n      return \r\n    }\r\n\r\n    this.registro.status = 'Cerrar inscripciones';\r\n    this.crudService.updateRecord$('consola','01', this.registro).subscribe(\r\n      _ => {\r\n        this.msg.ok('Inscripciones cerradas satisfactoriamente');\r\n        this.nivelStatus = 3;\r\n      },\r\n      error => this.msg.error('Error al actualizar los datos: ' + error.statusText),\r\n      () => console.log(\"this.router.navigate(['home'])\")\r\n    );\r\n  }\r\n\r\n  exportarDatos() {\r\n    /* if (this.nivelStatus > 3) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    } */\r\n    if (this.nivelStatus < 3) {\r\n      this.msg.ok('Primero debe cerrar inscripciones');\r\n      return \r\n    }\r\n    this.registro.status = 'Exportar datos';\r\n    this.nivelStatus=4;\r\n\r\n    this.guardarStatus('Datos exportados satisfactoriamente');\r\n  }\r\n\r\n  abrirCompetencia() {\r\n    if (this.nivelStatus > 4) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    }\r\n    if (this.nivelStatus < 4) {\r\n      this.msg.ok('Primero debe exportar los datos');\r\n      return \r\n    }\r\n    this.registro.status = 'Abrir competencia';\r\n    this.nivelStatus=5;\r\n\r\n    this.guardarStatus('Competencia abierta satisfactoriamente');\r\n  }\r\n\r\n  importarDatos() {\r\n    if (this.nivelStatus > 5) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    }\r\n    if (this.nivelStatus < 5) {\r\n      this.msg.ok('Primero debe abrir la competencia');\r\n      return \r\n    }\r\n    this.registro.status = 'Importar datos';\r\n    this.nivelStatus++;\r\n\r\n    this.guardarStatus('Datos importados satisfactoriamente');\r\n  }\r\n\r\n  cerrarCompetencia() {\r\n    if (this.nivelStatus > 6) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    }\r\n    if (this.nivelStatus < 6) {\r\n      this.msg.ok('Primero debe importar los datos');\r\n      return \r\n    }\r\n    this.registro.status = 'Cerrar competencia';\r\n    this.nivelStatus++;\r\n\r\n    this.guardarStatus('Competencia cerrada satisfactoriamente');\r\n  }\r\n\r\n  guardarStatus(mensaje: string) {\r\n    this.crudService.updateRecord$('consola',this.registro.id, this.registro).subscribe(\r\n      _ => this.msg.ok(mensaje),\r\n      error => this.msg.error('Error al actualizar los datos: ' + error.statusText),\r\n      () => console.log(\"this.router.navigate(['home'])\")\r\n    );\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter } from '@angular/core';\nimport { CompetenciaI } from 'src/app/models/competencia';\nimport { CrudService } from '@services/crud.service';\nimport { TipoDeCompetenciaI } from '@models/tipo-de-competencia';\n\n@Component({\n  selector: 'app-modal-competencia',\n  templateUrl: './modal-competencia.component.html',\n  styles: []\n})\nexport class ModalCompetenciaComponent implements OnInit {\n  @ViewChild('btClose', {static: false}) btClose: ElementRef;\n  @Input() tabla: CompetenciaI[];\n  @Output() emitSeleccionar = new EventEmitter<CompetenciaI>();\n\n  constructor(private crudService: CrudService) { }\n\n  ngOnInit() {\n  }\n\n  async seleccionar(registro: CompetenciaI) {\n    console.log('TCL: ModalCompetenciaComponent -> seleccionar -> registro antes', registro)\n\n    const tipoDeCompetencia = \n      await this.crudService.getRecordByField$<TipoDeCompetenciaI>('tipos-de-competencias', 'tipo', registro.tipoDeCompetencia).toPromise()\n    registro = {...registro, distancia: tipoDeCompetencia.distancia} \n    \n    console.log('TCL: ModalCompetenciaComponent -> seleccionar -> registro despues', registro)\n      await this.crudService.updateRecord$('competencias', registro.id, registro).toPromise()\n\n    this.emitSeleccionar.emit(registro);\n    this.btClose.nativeElement.click();\n  }\n\n  cancelar(){\n    this.btClose.nativeElement.click();\n  }\n}\n","import { map, tap } from 'rxjs/operators';\r\nimport { Component, OnInit, ViewChild, ElementRef, Output, EventEmitter, Input } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ExportarService } from './../exportar.service';\r\nimport { merge } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { CompetenciaI } from 'src/app/models/competencia';\r\n\r\n@Component({\r\n  selector: 'app-modal-download',\r\n  templateUrl: './modal-download.component.html',\r\n  styles: []\r\n})\r\nexport class ModalDownloadComponent implements OnInit {\r\n  @Input() competencia: CompetenciaI;\r\n  @ViewChild('btCloseDownload', { static: true }) btClose: ElementRef;\r\n  @ViewChild('aDownload', { static: true }) aDownload: ElementRef;\r\n  @Output() emitExportar = new EventEmitter<string>();\r\n\r\n  downloadJsonHref;\r\n  preparacionStatus = 0;\r\n  mensaje = 'El proceso de exportar los datos puede tardar varios minutos. Para iniciar pulse en el botón preparar datos. Una vez finalizado el proceso pulse en el botón exportar';\r\n  \r\n  constructor(private sanitizer: DomSanitizer,\r\n              private exportarService: ExportarService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  cancelar(){\r\n    this.btClose.nativeElement.click();\r\n  }\r\n\r\n  exportarDatos(){\r\n    this.aDownload.nativeElement.click();\r\n    this.emitExportar.emit('Exportar');\r\n    this.btClose.nativeElement.click();\r\n  }\r\n\r\n  generateDownloadJsonUri() {\r\n    this.mensaje = 'P r e p a r a n d o . . .';\r\n    this.preparacionStatus = 1;\r\n    let jsonData = '{';\r\n    let contador = 0;\r\n    let nombres: string[] =  [];\r\n    const categorias$ = this.exportarService.getCategorias$();\r\n    nombres.push('categorias');\r\n    const clubes$ = this.exportarService.getClubes$();\r\n    nombres.push('clubes');\r\n\r\n    const competencias$ = this.exportarService.getCompetencias$().pipe(\r\n      map( data => data.filter( elemento => \r\n                                elemento.club === this.competencia.club &&\r\n                                elemento.competencia === this.competencia.competencia &&\r\n                                elemento.desde === this.competencia.desde &&\r\n                                elemento.hasta === this.competencia.hasta))\r\n    );\r\n\r\n    nombres.push('competencias');\r\n    const consola$ = this.exportarService.getConsola$();\r\n    const inscripciones$ = this.exportarService.getInscripciones$();\r\n    nombres.push('inscripciones');\r\n    const palistas$ = this.exportarService.getPalistas$();\r\n    nombres.push('palistas');\r\n\r\n    const users$ = this.exportarService.getUsers$().pipe(\r\n      map(data => data.filter( usuario => usuario.rol === 'Competencias'))\r\n    );\r\n    nombres.push('users');\r\n\r\n    const result$ = merge(categorias$, clubes$, competencias$, consola$, inscripciones$, palistas$, users$);\r\n    result$.subscribe(\r\n      data => {\r\n        jsonData = jsonData +  '\"' + nombres[contador] + '\":' + JSON.stringify(data);\r\n        contador++;\r\n\r\n        if (contador == nombres.length) {\r\n          jsonData = jsonData + '}';\r\n          this.downloadJsonHref = this.sanitizer.bypassSecurityTrustUrl(\"data:text/json;charset=UTF-8,\" + encodeURIComponent(jsonData));\r\n          this.mensaje = 'Preparación finalizada';\r\n          this.preparacionStatus = 2;\r\n        } else {\r\n          jsonData = jsonData + ',';\r\n        }\r\n        \r\n      }\r\n    );\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ConsolaComponent } from './components/consola.component';\n\nconst routes: Routes = [\n  { path: '', component: ConsolaComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ConsolaRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ConsolaRoutingModule } from './consola-routing.module';\nimport { ConsolaComponent } from './components/consola.component';\nimport { ModalCompetenciaComponent } from './components/modal-competencia.component';\nimport { ModalDownloadComponent } from './components/modal-download.component';\n\n\n@NgModule({\n  declarations: [ConsolaComponent, ModalCompetenciaComponent, ModalDownloadComponent],\n  imports: [\n    CommonModule,\n    ConsolaRoutingModule\n  ]\n})\nexport class ConsolaModule { }\n","import { Injectable } from \"@angular/core\";\r\nimport { AngularFirestore } from \"@angular/fire/firestore\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map, tap } from \"rxjs/operators\";\r\n\r\nimport { CategoriaI } from \"src/app/models/categoria\";\r\nimport { ClubI } from 'src/app/models/club';\r\nimport { CompetenciaI } from 'src/app/models/competencia';\r\nimport { InscripcionI } from 'src/app/models/inscripcion';\r\nimport { PalistaI } from 'src/app/models/palista';\r\nimport { UserI } from 'src/app/models/user';\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class ExportarService {\r\n\r\n  constructor(private afs: AngularFirestore) {\r\n  }\r\n\r\n  getCategorias$(): Observable<CategoriaI[]> {\r\n    const collection = this.afs.collection<CategoriaI>(\"categorias\", ref => ref.orderBy('desde'));\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as CategoriaI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getClubes$(): Observable<ClubI[]> {\r\n    const collection = this.afs.collection<ClubI>(\"clubes\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as ClubI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getCompetencias$(): Observable<CompetenciaI[]> {\r\n    const collection = this.afs.collection<CompetenciaI>(\"competencias\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as CompetenciaI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getConsola$(): Observable<CompetenciaI[]> {\r\n    const collection = this.afs.collection<CompetenciaI>(\"consola\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as CompetenciaI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getInscripciones$(): Observable<InscripcionI[]> {\r\n    const collection = this.afs.collection<InscripcionI>(\"inscripciones\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as InscripcionI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getPalistas$(): Observable<PalistaI[]> {\r\n    const collection = this.afs.collection<PalistaI>(\"palistas\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as PalistaI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getUsers$(): Observable<UserI[]> {\r\n    const collection = this.afs.collection<UserI>(\"users\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as UserI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n}"],"sourceRoot":"webpack:///"}