{"version":3,"sources":["src/app/procedures/consola/components/consola.component.html","src/app/procedures/consola/components/modal-competencia.component.html","src/app/procedures/consola/components/modal-download.component.html","src/app/procedures/consola/components/consola.component.ts","src/app/procedures/consola/components/modal-competencia.component.ts","src/app/procedures/consola/components/modal-download.component.ts","src/app/procedures/consola/consola-routing.module.ts","src/app/procedures/consola/consola.module.ts","src/app/procedures/consola/exportar.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-sm-12 col-md-8 col-lg-6 mx-auto\\\">\\n\\n    <div class=\\\"card mt-3\\\">\\n      <div class=\\\"card-header text-center\\\">\\n        <div *ngIf=\\\"!!registro\\\" class=\\\"\\\">\\n          {{ desStatus }} [ {{ nivelStatus }} ]<br>\\n          {{ registro.competencia }} <br>\\n          {{ registro.club}}\\n        </div>\\n      </div>\\n      \\n      <div class=\\\"card-body\\\">\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" \\n              data-toggle=\\\"modal\\\" data-target=\\\"#modalCompetencia\\\" [disabled]=\\\"nivelStatus > 0\\\"\\n              [ngClass]=\\\"nivelStatus >= 1 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Establecer próxima competencia\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 1 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" (click)=\\\"abrirInscirpciones()\\\"\\n              [disabled]=\\\"nivelStatus === 2 || nivelStatus > 3\\\"\\n              [ngClass]=\\\"nivelStatus >= 2 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Abrir inscripciones\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 2 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" (click)=\\\"cerrarInscirpciones()\\\"\\n            [ngClass]=\\\"nivelStatus >= 3 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Cerrar inscripciones\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 3 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" \\n            data-toggle=\\\"modal\\\" data-target=\\\"#modalDownload\\\"\\n            [ngClass]=\\\"nivelStatus >= 4 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Exportar datos de las inscripciones\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 4 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" (click)=\\\"abrirCompetencia()\\\"\\n              [ngClass]=\\\"nivelStatus >= 5 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Abrir competencia\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 5 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" (click)=\\\"importarDatos()\\\"\\n              [ngClass]=\\\"nivelStatus >= 6 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Importar datos de la competencia\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 6 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-10\\\">\\n            <button class=\\\"btn btn-block btn-lg\\\" (click)=\\\"cerrarCompetencia()\\\"\\n              [ngClass]=\\\"nivelStatus >= 7 ? 'btn-primary' : 'btn-outline-primary'\\\">\\n              Cerrar competencia\\n            </button>\\n          </div>\\n          <div class=\\\"col-2\\\">\\n            <span class=\\\"text-primary\\\">\\n              <i class=\\\"fa fa-3x\\\" [ngClass]=\\\"nivelStatus >= 7 ? 'fa-check-square-o': 'fa-square-o'\\\"></i>\\n            </span>\\n          </div>\\n        </div>\\n\\n      </div>\\n\\n    </div>\\n\\n  </div>\\n</div>\\n\\n\\n<app-modal-competencia\\n  [tabla]=\\\"tblCompetencias\\\"\\n  (emitSeleccionar)=\\\"seleccionarCompetencia($event)\\\"\\n></app-modal-competencia>\\n\\n<app-modal-download\\n  [competencia] = 'registro'\\n  (emitExportar)=\\\"exportarDatos()\\\"\\n></app-modal-download>\\n\"","export default \"<!-- Modal -->\\n<div id=\\\"modalCompetencia\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalLabel\\\"\\n  aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-lg\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLabel\\\"> Competencias </h5>\\n        <button #btClose type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n\\n        <table class=\\\"table table-bordered table-hover\\\">\\n          <thead>\\n            <tr>\\n              <th> Desde </th>\\n              <th> Hasta </th>\\n              <th> Competencia </th>\\n              <th> Club </th>\\n            </tr>\\n          </thead>\\n\\n          <tbody>\\n            <tr *ngFor=\\\"let registro of tabla\\\">\\n              <td (click)=\\\"seleccionar(registro)\\\"> {{ registro.desde }} </td>\\n              <td (click)=\\\"seleccionar(registro)\\\"> {{ registro.hasta }} </td>\\n              <td (click)=\\\"seleccionar(registro)\\\"> {{ registro.competencia }} </td>\\n              <td (click)=\\\"seleccionar(registro)\\\"> {{ registro.club }} </td>\\n            </tr>\\n          </tbody>\\n\\n        </table>\\n\\n        <button class=\\\"btn btn-secondary float-center\\\" (click)=\\\"cancelar()\\\">\\n          Cancelar\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","export default \"<div id=\\\"modalDownload\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalLabel\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-md\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLabel\\\"> Exportar datos </h5>\\n        <button #btCloseDownload type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-12\\\">\\n            <h4> {{ mensaje }} </h4>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            <button class=\\\"btn btn-lg btn-block btn-primary\\\" [disabled]=\\\"preparacionStatus > 0\\\"\\n              (click)=\\\"generateDownloadJsonUri()\\\">\\n              Procesar\\n            </button>\\n          </div>\\n          <div class=\\\"col-6\\\">\\n            <button class=\\\"btn btn-lg btn-block btn-primary\\\" [disabled]=\\\"preparacionStatus < 2\\\"\\n              (click)=\\\"exportarDatos()\\\">\\n              Exportar\\n            </button>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"row mt-3\\\">\\n          <div class=\\\"col-6 mx-auto\\\">\\n            <button class=\\\"btn btn-block btn-secondary\\\" (click)=\\\"cancelar()\\\">\\n              Cancelar\\n            </button>\\n          </div>\\n        </div>\\n        \\n        <a #aDownload class=\\\"btn btn-clear d-none\\\" title=\\\"Download JSON\\\" [href]=\\\"downloadJsonHref\\\" download=\\\"FeBoCaK.json\\\">\\n          Link\\n        </a> \\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CompetenciaI } from 'src/app/models/competencia';\r\nimport { CrudService } from '@services/crud.service';\r\nimport { MessageService } from '@core/message/message.service';\r\n\r\n@Component({\r\n  selector: 'app-consola',\r\n  templateUrl: './consola.component.html',\r\n  styles: []\r\n})\r\nexport class ConsolaComponent implements OnInit {\r\n\r\n  tblCompetencias: CompetenciaI[];\r\n  registro: CompetenciaI;\r\n  nivelStatus = 0;\r\n  desStatus = '';\r\n\r\n  constructor(private crudService: CrudService, \r\n              private msg: MessageService,\r\n              private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.getRecords();\r\n    this.crudService.getAllRecords$('competencias').subscribe(\r\n      data => this.tblCompetencias = data\r\n    );\r\n  }\r\n\r\n  getRecords() {\r\n    this.crudService.getRecord$('consola','01').subscribe(\r\n      data => {\r\n        this.registro = data;\r\n        this.setState();\r\n      }\r\n    );\r\n  }\r\n\r\n  setState() {\r\n    \r\n    switch (this.registro.status) {\r\n      case 'Establecer próxima competencia':\r\n        this.nivelStatus = 1;\r\n        this.desStatus = 'Próxima competencia';\r\n        break;\r\n      case 'Abrir inscripciones':\r\n        this.nivelStatus = 2;\r\n        this.desStatus = 'Inscripciones abiertas';\r\n        break;\r\n      case 'Cerrar inscripciones':\r\n        this.nivelStatus = 3;\r\n        this.desStatus = 'Inscripciones cerradas';\r\n        break;\r\n      case 'Exportar datos':\r\n        this.nivelStatus = 4;\r\n        this.desStatus = 'Inscripciones cerradas - Datos exportados';\r\n        break;\r\n      case 'Abrir competencia':\r\n        this.nivelStatus = 5;\r\n        this.desStatus = 'En competencia';\r\n        break;\r\n      case 'Importar datos':\r\n        this.nivelStatus = 6;\r\n        this.desStatus = 'Resultados de la competencia cargados';\r\n        break;\r\n      case 'Cerrar competencia':\r\n        this.nivelStatus = 0;\r\n        this.desStatus = 'Competencia guardada en el histórico';\r\n        break;\r\n   \r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  seleccionarCompetencia(registro: CompetenciaI){\r\n    if (registro) {\r\n      this.establecerProximaCompetencia(registro);\r\n    }\r\n  }\r\n\r\n  establecerProximaCompetencia(registro: CompetenciaI) {\r\n    if (this.nivelStatus !== 0) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    }\r\n    this.registro = registro;\r\n    this.registro.status = 'Establecer próxima competencia';\r\n    this.registro.id = '01';\r\n\r\n    this.crudService.updateRecord$('consola','01', this.registro).subscribe(\r\n      _ => {\r\n        this.msg.ok('Competencia establecida satisfactoriamente');\r\n        this.nivelStatus = 1;\r\n      },\r\n      error => this.msg.error('Error al actualizar los datos: ' + error.statusText),\r\n      () => console.log(\"this.router.navigate(['home'])\")\r\n    );\r\n  }\r\n\r\n  abrirInscirpciones() {\r\n    if (this.nivelStatus > 4) {\r\n      this.msg.ok('No puede reabrir las inscripciones después de haber importado los datos de la competencia');\r\n      return \r\n    }\r\n    if (this.nivelStatus < 1) {\r\n      this.msg.ok('Primero debe establecer la competencia');\r\n      return \r\n    }\r\n    this.registro.status = 'Abrir inscripciones';\r\n    \r\n    this.crudService.updateRecord$('consola','01', this.registro).subscribe(\r\n      _ => {\r\n        this.msg.ok('Inscripciones abiertas satisfactoriamente');\r\n        this.nivelStatus = 2;\r\n      },\r\n      error => this.msg.error('Error al actualizar los datos: ' + error.statusText),\r\n      () => console.log(\"this.router.navigate(['home'])\")\r\n    );\r\n  }\r\n\r\n  cerrarInscirpciones() {\r\n    if (this.nivelStatus > 2) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    }\r\n    if (this.nivelStatus < 2) {\r\n      this.msg.ok('Primero debe abrir inscripciones');\r\n      return \r\n    }\r\n\r\n    this.registro.status = 'Cerrar inscripciones';\r\n    this.crudService.updateRecord$('consola','01', this.registro).subscribe(\r\n      _ => {\r\n        this.msg.ok('Inscripciones cerradas satisfactoriamente');\r\n        this.nivelStatus = 3;\r\n      },\r\n      error => this.msg.error('Error al actualizar los datos: ' + error.statusText),\r\n      () => console.log(\"this.router.navigate(['home'])\")\r\n    );\r\n  }\r\n\r\n  exportarDatos() {\r\n    /* if (this.nivelStatus > 3) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    } */\r\n    if (this.nivelStatus < 3) {\r\n      this.msg.ok('Primero debe cerrar inscripciones');\r\n      return \r\n    }\r\n    this.registro.status = 'Exportar datos';\r\n    this.nivelStatus=4;\r\n\r\n    this.guardarStatus('Datos exportados satisfactoriamente');\r\n  }\r\n\r\n  abrirCompetencia() {\r\n    if (this.nivelStatus > 4) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    }\r\n    if (this.nivelStatus < 4) {\r\n      this.msg.ok('Primero debe exportar los datos');\r\n      return \r\n    }\r\n    this.registro.status = 'Abrir competencia';\r\n    this.nivelStatus=5;\r\n\r\n    this.guardarStatus('Competencia abierta satisfactoriamente');\r\n  }\r\n\r\n  importarDatos() {\r\n    if (this.nivelStatus > 5) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    }\r\n    if (this.nivelStatus < 5) {\r\n      this.msg.ok('Primero debe abrir la competencia');\r\n      return \r\n    }\r\n    this.registro.status = 'Importar datos';\r\n    this.nivelStatus++;\r\n\r\n    this.guardarStatus('Datos importados satisfactoriamente');\r\n  }\r\n\r\n  cerrarCompetencia() {\r\n    if (this.nivelStatus > 6) {\r\n      this.msg.ok('Este proceso ya se realizó');\r\n      return \r\n    }\r\n    if (this.nivelStatus < 6) {\r\n      this.msg.ok('Primero debe importar los datos');\r\n      return \r\n    }\r\n    this.registro.status = 'Cerrar competencia';\r\n    this.nivelStatus++;\r\n\r\n    this.guardarStatus('Competencia cerrada satisfactoriamente');\r\n  }\r\n\r\n  guardarStatus(mensaje: string) {\r\n    this.crudService.updateRecord$('consola',this.registro.id, this.registro).subscribe(\r\n      _ => this.msg.ok(mensaje),\r\n      error => this.msg.error('Error al actualizar los datos: ' + error.statusText),\r\n      () => console.log(\"this.router.navigate(['home'])\")\r\n    );\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, ViewChild, ElementRef, Output, EventEmitter } from '@angular/core';\nimport { CompetenciaI } from 'src/app/models/competencia';\nimport { CrudService } from '@services/crud.service';\nimport { TipoDeCompetenciaI } from '@models/tipo-de-competencia';\n\n@Component({\n  selector: 'app-modal-competencia',\n  templateUrl: './modal-competencia.component.html',\n  styles: []\n})\nexport class ModalCompetenciaComponent implements OnInit {\n  @ViewChild('btClose', {static: false}) btClose: ElementRef;\n  @Input() tabla: CompetenciaI[];\n  @Output() emitSeleccionar = new EventEmitter<CompetenciaI>();\n\n  constructor(private crudService: CrudService) { }\n\n  ngOnInit() {\n  }\n\n  async seleccionar(registro: CompetenciaI) {\n    console.log('TCL: ModalCompetenciaComponent -> seleccionar -> registro antes', registro)\n\n    const tipoDeCompetencia = \n      await this.crudService.getRecordByField$<TipoDeCompetenciaI>('tipos-de-competencias', 'tipo', registro.tipoDeCompetencia).toPromise()\n    registro = {...registro, distancia: tipoDeCompetencia.distancia} \n    \n    console.log('TCL: ModalCompetenciaComponent -> seleccionar -> registro despues', registro)\n      await this.crudService.updateRecord$('competencias', registro.id, registro).toPromise()\n\n    this.emitSeleccionar.emit(registro);\n    this.btClose.nativeElement.click();\n  }\n\n  cancelar(){\n    this.btClose.nativeElement.click();\n  }\n}\n","import { map, tap } from 'rxjs/operators';\r\nimport { Component, OnInit, ViewChild, ElementRef, Output, EventEmitter, Input } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { ExportarService } from './../exportar.service';\r\nimport { merge } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { CompetenciaI } from 'src/app/models/competencia';\r\n\r\n@Component({\r\n  selector: 'app-modal-download',\r\n  templateUrl: './modal-download.component.html',\r\n  styles: []\r\n})\r\nexport class ModalDownloadComponent implements OnInit {\r\n  @Input() competencia: CompetenciaI;\r\n  @ViewChild('btCloseDownload', { static: true }) btClose: ElementRef;\r\n  @ViewChild('aDownload', { static: true }) aDownload: ElementRef;\r\n  @Output() emitExportar = new EventEmitter<string>();\r\n\r\n  downloadJsonHref;\r\n  preparacionStatus = 0;\r\n  mensaje = 'El proceso de exportar los datos puede tardar varios minutos. Para iniciar pulse en el botón preparar datos. Una vez finalizado el proceso pulse en el botón exportar';\r\n  \r\n  constructor(private sanitizer: DomSanitizer,\r\n              private exportarService: ExportarService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  cancelar(){\r\n    this.btClose.nativeElement.click();\r\n  }\r\n\r\n  exportarDatos(){\r\n    this.aDownload.nativeElement.click();\r\n    this.emitExportar.emit('Exportar');\r\n    this.btClose.nativeElement.click();\r\n  }\r\n\r\n  generateDownloadJsonUri() {\r\n    this.mensaje = 'P r e p a r a n d o . . .';\r\n    this.preparacionStatus = 1;\r\n    let jsonData = '{';\r\n    let contador = 0;\r\n    let nombres: string[] =  [];\r\n    const categorias$ = this.exportarService.getCategorias$();\r\n    nombres.push('categorias');\r\n    const clubes$ = this.exportarService.getClubes$();\r\n    nombres.push('clubes');\r\n\r\n    const competencias$ = this.exportarService.getCompetencias$().pipe(\r\n      map( data => data.filter( elemento => \r\n                                elemento.club === this.competencia.club &&\r\n                                elemento.competencia === this.competencia.competencia &&\r\n                                elemento.desde === this.competencia.desde &&\r\n                                elemento.hasta === this.competencia.hasta))\r\n    );\r\n\r\n    nombres.push('competencias');\r\n    const consola$ = this.exportarService.getConsola$();\r\n    const inscripciones$ = this.exportarService.getInscripciones$();\r\n    nombres.push('inscripciones');\r\n    const palistas$ = this.exportarService.getPalistas$();\r\n    nombres.push('palistas');\r\n\r\n    const users$ = this.exportarService.getUsers$().pipe(\r\n      map(data => data.filter( usuario => usuario.rol === 'Competencias'))\r\n    );\r\n    nombres.push('users');\r\n\r\n    const result$ = merge(categorias$, clubes$, competencias$, consola$, inscripciones$, palistas$, users$);\r\n    result$.subscribe(\r\n      data => {\r\n        jsonData = jsonData +  '\"' + nombres[contador] + '\":' + JSON.stringify(data);\r\n        contador++;\r\n\r\n        if (contador == nombres.length) {\r\n          jsonData = jsonData + '}';\r\n          this.downloadJsonHref = this.sanitizer.bypassSecurityTrustUrl(\"data:text/json;charset=UTF-8,\" + encodeURIComponent(jsonData));\r\n          this.mensaje = 'Preparación finalizada';\r\n          this.preparacionStatus = 2;\r\n        } else {\r\n          jsonData = jsonData + ',';\r\n        }\r\n        \r\n      }\r\n    );\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ConsolaComponent } from './components/consola.component';\n\nconst routes: Routes = [\n  { path: '', component: ConsolaComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ConsolaRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ConsolaRoutingModule } from './consola-routing.module';\nimport { ConsolaComponent } from './components/consola.component';\nimport { ModalCompetenciaComponent } from './components/modal-competencia.component';\nimport { ModalDownloadComponent } from './components/modal-download.component';\n\n\n@NgModule({\n  declarations: [ConsolaComponent, ModalCompetenciaComponent, ModalDownloadComponent],\n  imports: [\n    CommonModule,\n    ConsolaRoutingModule\n  ]\n})\nexport class ConsolaModule { }\n","import { Injectable } from \"@angular/core\";\r\nimport { AngularFirestore } from \"@angular/fire/firestore\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map, tap } from \"rxjs/operators\";\r\n\r\nimport { CategoriaI } from \"src/app/models/categoria\";\r\nimport { ClubI } from 'src/app/models/club';\r\nimport { CompetenciaI } from 'src/app/models/competencia';\r\nimport { InscripcionI } from 'src/app/models/inscripcion';\r\nimport { PalistaI } from 'src/app/models/palista';\r\nimport { UserI } from 'src/app/models/user';\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class ExportarService {\r\n\r\n  constructor(private afs: AngularFirestore) {\r\n  }\r\n\r\n  getCategorias$(): Observable<CategoriaI[]> {\r\n    const collection = this.afs.collection<CategoriaI>(\"categorias\", ref => ref.orderBy('desde'));\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as CategoriaI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getClubes$(): Observable<ClubI[]> {\r\n    const collection = this.afs.collection<ClubI>(\"clubes\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as ClubI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getCompetencias$(): Observable<CompetenciaI[]> {\r\n    const collection = this.afs.collection<CompetenciaI>(\"competencias\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as CompetenciaI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getConsola$(): Observable<CompetenciaI[]> {\r\n    const collection = this.afs.collection<CompetenciaI>(\"consola\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as CompetenciaI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getInscripciones$(): Observable<InscripcionI[]> {\r\n    const collection = this.afs.collection<InscripcionI>(\"inscripciones\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as InscripcionI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getPalistas$(): Observable<PalistaI[]> {\r\n    const collection = this.afs.collection<PalistaI>(\"palistas\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as PalistaI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getUsers$(): Observable<UserI[]> {\r\n    const collection = this.afs.collection<UserI>(\"users\");\r\n    return collection.snapshotChanges().pipe(\r\n      map(changes => {\r\n        return changes.map(action => {\r\n          const data = action.payload.doc.data() as UserI;\r\n          data.id = action.payload.doc.id;\r\n          return data;\r\n        });\r\n      })\r\n    );\r\n  }\r\n}"],"sourceRoot":"webpack:///"}